<main class="container container-body">
    <div class="ui">
        <div class="ui segment">
            <div class="ui labeled input">
                <input type="text" placeholder="Zip Code" ng-model="currentZipCode" ng-enter="weatherUpdate()">
            </div>
            <div class="ui button" ng-click="weatherUpdate()">
                Get Weather
            </div>
            <div class="ui error message" ng-show="zipError">
                <ul class="list">
                    <li>Please enter a valid Zip Code</li>
                </ul>
            </div>
        </div>
        <div class="ui segment">
            <div class="ui vertically divided grid">
                <div class="three column row">
                    <div class="column five wide">
                        <div ng-hide="weather.errorLoading">
                            <h3>Current Weather For {{weather.zip}}</h3>
                            <div class="ui button" ng-click="saveZip()">
                                Save As Home Location
                            </div>
                            <br />
                            <br />
                            <div>
                                Temperature: {{weather.farenheitTemperature}}°
                            </div>
                            <div>
                                High: {{weather.maxFarenheitTemperature}}°
                            </div>
                            <div>
                                Low: {{weather.minFarenheitTemperature}}°
                            </div>
                            <div>
                                Humidity: {{weather.humidity}}%
                            </div>
                            <div ng-show="weather.description != null">
                                {{weather.description}}
                            </div>
                            <div>
                                <small>Temperatures displayed in Farenheit</small>
                            </div>
                        </div>
                        <div ng-show="weather.errorLoading">
                            <div class="ui error message">
                                There was an error loading the weather. Please try again later.
                            </div>
                        </div>
                    </div>
                    <div class="column five wide">
                        <div ng-hide="weather.errorLoadingHourly">
                            <div class="ui divided items">
                                <div class="item" ng-repeat="datapoint in weather.hourly track by $index">
                                    <div class="content">
                                        <h3>{{ datapoint.time | date : 'EEE h:mm a'}}</h3>
                                        <div>
                                            Temperature: {{datapoint.farenheitTemperature}}°
                                        </div>
                                        <div>
                                            High: {{datapoint.maxFarenheitTemperature}}°
                                        </div>
                                        <div>
                                            Low: {{datapoint.minFarenheitTemperature}}°
                                        </div>
                                        <div>
                                            Humidity: {{datapoint.humidity}}%
                                        </div>
                                        <div ng-show="datapoint.description != null">
                                            {{datapoint.description}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div ng-show="weather.errorLoadingHourly">
                            <div class="ui error message">
                                There was an error loading the weather 3-hour data. Please try again later.
                            </div>
                        </div>
                    </div>
                    <div class="column six wide">
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
